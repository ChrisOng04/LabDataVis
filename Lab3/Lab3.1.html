<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <meta name="LAB 3.1" content=""/>
    <meta name="Coding" content="HTML"/>
    <meta name="Chris Ong" content="Chris Ong"/>
    <title>LAB 3.1 D3 Drawing with Data - Scatter Plot</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: rgb(255, 245, 245); 
        }
        /* Button Styling */
        .view-btn {
          background-color: #ff01c4;
          border: none;
          color: white;
          padding: 8px 16px;
          text-align: center;
          text-decoration: none;
          display: inline-block;
          font-size: 14px;
          cursor: pointer;
          border-radius: 4px;
      }
      .view-btn:hover {
          background-color: #6175e2;
      }
    </style>
</head>

<body>
    <p><a href="/LabDataVis/Main/Overall.html" class="view-btn">Back</a> <!--BACK KEY-->
    <a href="/LabDataVis/Lab3/Lab3.1.html" class="view-btn">LAB 3.1</a>
    <a href="/LabDataVis/Lab3/Lab3.2.html" class="view-btn">LAB 3.2</a>
    <a href="/LabDataVis/Lab3/Lab3.2Mod.html" class="view-btn">LAB 3.2Mod</a>
</p>

    <h1>LAB 3.1 Drawing with Data - Scatter Plot</h1>

    <script>
        var w = 600;
        var h = 100;
        var padding = 30; // Increased padding for better spacing

        var svg = d3.select("body")
                    .append("svg")
                    .attr("width", w)
                    .attr("height", h);

        var dataset = [
            [5,20],
            [500,90],
            [250,50],
            [100,33],
            [330,95],
            [410,12],
            [475,44],
            [25,67],
            [85,21],
            [220,88]
        ];          

        // Adjust xScale with increased padding
        var xScale = d3.scaleLinear()
                      .domain([d3.min(dataset, function(d) {
                          return d[0];
                      }),
                      d3.max(dataset, function(d) {
                          return d[0];
                      })])
                      .range([padding, w - padding]);

        // Reverse the yScale range to flip the y-axis
        var yScale = d3.scaleLinear()
                      .domain([d3.min(dataset, function(d) {
                          return d[1];
                      }),
                      d3.max(dataset, function(d) {
                          return d[1];
                      })])
                      .range([h - padding, padding]);

        svg.selectAll("circle")
           .data(dataset)
           .enter()
           .append("circle")
           .attr("cx", function(d) {
                return xScale(d[0]);
           })
           .attr("cy", function(d) {
                return yScale(d[1]);
           })
           .attr("r", 5)
           .attr("fill", function(d) {
                return d[0] === 500 && d[1] === 90 ? "red" : "steelblue";
           });

        svg.selectAll("text")
           .data(dataset)
           .enter()
           .append("text")
           .text(function(d) {
                return d[0] + "," + d[1];
           })
           .attr("x", function(d) {
                return xScale(d[0]) - 5;
           })
           .attr("y", function(d) {
                return yScale(d[1]+5);
           })
           .attr("font-family", "sans-serif")
           .attr("font-size", "11px")
           .attr("fill", "green");
    </script>

    <footer style="color: #00ff0d; margin-top: 20px; padding-top: 10px; border-top: 1px solid #ccc; font-size: 0.9em; text-align: center;">
        COS30045 Data Visualisation<br>Chris Ong
    </footer>
  
</body>

</html>